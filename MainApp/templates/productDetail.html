{% extends 'base.html'%} {% load static %} 
{%block content%} 
{%include "header.html"%}
<style>
  body{
    background: #113 !important;;
  }
 .featured-container{
  overflow:hidden;
  height:45vh;
  border:1px solid black;
 }
 #featured{
  object-fit: scale-down;
  width: 100%;
  height:100%;
  cursor:pointer;
  transition: transform .5s ease;
 }
 .featured-container:hover #featured{
  transform: scale(1.2);
 }
 .thumbnail{
  object-fit:cover;
  max-width:180px;
  max-height:100px;
  cursor:pointer;
  opacity:0.5;
  margin:5px;
  border:2px solid black;
 }
 .thumbnail:hover{
  opacity:1;
 }
 .active{
  opacity:1;
 }

 #slide-wrapper{
  max-width:500px;
  display:flex;
  min-height:100px;
  align-items:center;
 }
 #slider{
  width:440px;
  display:flex;
  flex-wrap:nowrap;
  overflow-x:hidden;
  margin-left:20px;
 }
</style>
<div class="container">
  <a href='/products' class="btn btn-secondary">&backcong; Back To Shop</a>
</div>
<div class="container " id="content-wrapper">
  <div class="row">
  <div class="col-sm-6 col-md-7 col-lg-5">
    <div class="featured-container">
      <img id="featured" src="{{product.image.url}}" alt="">
    </div>

      <div id="slide-wrapper">
        <div id = "slider">
          <img src="{{product.image.url}}" class="thumbnail active" alt="">

          {% if product.image2 %}
          <img src="{{product.image2.url}}" class="thumbnail " alt="">
          {% endif %}

          {% if product.image3 %}
          <img src="{{product.image3.url}}" class="thumbnail " alt="">
          {%endif%}

          {% if product.image4%}
          <img src="{{product.image4.url}}" class="thumbnail " alt="">
          {%endif%}

        </div>
        
      </div>
  </div>
  <div class="col-sm-5 col-lg-5 col-md-4">
    <h1>{{product.name}}</h1>
    <span>({{product.category}})</span>
    <hr>
    <h3> {{product.price}} Frw</h3>
    <br>
    <h5>{{product.category.description}}    </h5>

    <a href='/add-to-cart/{{product.id}}' class="btn btn-success mt-3">Add To Cart</a>
  </div>
</div>



</div>
<script type="text/javascript">
  let thumbnails = document.getElementsByClassName('thumbnail')

  let activeImages = document.getElementsByClassName('active')

  for (var i =0; i<thumbnails.length;i++){
    thumbnails[i].addEventListener('mouseover', function(){

      if (activeImages.length > 0){
        activeImages[0].classList.remove('active')
      }
      this.classList.add('active')
      document.getElementById('featured').src = this.src
    })
  }


</script>





{%endblock%}
